{% extends 'project/base.html' %}

{% block title %}My Friends{% endblock %}

{% block content %}
{% if profile %}
<div class="card">
    <h1>My Friends</h1>
</div>

<div class="outfit-grid">
    {% for friend in friends %}
    <div class="outfit-card">
        {% if friend.profile_image %}
            <img src="{{ friend.profile_image.url }}" alt="{{ friend.first_name }}" class="outfit-image">
        {% endif %}
        <div class="outfit-content">
            <h3>{{ friend.first_name }} {{ friend.last_name }}</h3>
            <p>{{ friend.city }}</p>
            <p>{{ friend.get_outfits.count }} outfits</p>
            <a href="{{ friend.get_absolute_url }}" class="btn">View Profile</a>
        </div>
    </div>
    {% empty %}
    <div class="card">
        <p>No friends yet. Add some friends to see their outfits!</p>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card">
    <h1>Profile Not Found</h1>
    <p>You need to create a profile first.</p>
    <a href="{% url 'project:create_profile' %}" class="btn">Create Profile</a>
</div>
{% endif %}
{% endblock %} 